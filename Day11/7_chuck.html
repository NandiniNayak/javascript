<html>

<head>
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"
        integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
</head>

<body>
    <button id="button">Get Jokes</button>
    <script>

        const chuckJokes = async () => {
                let jokes = [];
                // fetch returns a promise
                // anything that returns Promise, can be awaited in the async function
                let joke1 = await fetch("https://api.chucknorris.io/jokes/random");
                console.log(joke1);
                jokes.push(joke1.value);
                let joke2 = await fetch("https://api.chucknorris.io/jokes/random");
                jokes.push(joke2.value);
                let joke3 = await fetch("https://api.chucknorris.io/jokes/random");
                jokes.push(joke3.value);

                console.log(jokes);
                return jokes;
            }

            // async function returns promise
            chuckJokes()
                .then(jokes => console.log(jokes))
                .catch(err => console.log(err));

                
        // function getJokes() {
        //     return new Promise((resolve, reject) => {
        //         $.get("https://api.chucknorris.io/jokes/random", (joke) => {
        //             if (joke.value) {
        //                 resolve(joke.value)
        //             } else {
        //                 reject("something went wrong");
        //             }
        //         })
        //     })
        // }
        // var jokes = [];
        // document.querySelector("#button").addEventListener("click", () => {
        //     getJokes()
        //         .then(joke1 => {
        //             jokes.push(joke1);
        //             return getJokes()
        //         })
        //         .then(joke2 => {
        //             jokes.push(joke2)
        //             return getJokes()
        //         })
        //         .then(joke3 => {
        //             jokes.push(joke3)
        //             return getJokes()
        //         })
        //         .then(joke4 => {
        //             jokes.push(joke4)
        //             return getJokes()
        //         })
        //         .then(joke5 => {
        //             jokes.push(joke5)
        //             return getJokes()
        //         })
        //         .then(joke6 => {
        //             jokes.push(joke6)
        //             console.log(jokes)
        //         })
        //         .catch(err => console.log(err));
        // });

        // console.log("jokes array " + jokes);


                // document.querySelector("#button").addEventListener("click", () => {
                //     $.get("https://api.chucknorris.io/jokes/random", (joke1) => {
                //         $.get("https://api.chucknorris.io/jokes/random", (joke2) => {
                //             $.get("https://api.chucknorris.io/jokes/random", (joke3) => {
                //                 $.get("https://api.chucknorris.io/jokes/random", (joke4) => {
                //                     $.get("https://api.chucknorris.io/jokes/random", (joke5) => {
                //                         let jokeArray = [joke1, joke2, joke3, joke4, joke5];
                //                         console.log(jokeArray);
                //                     });
                //                 });
                //             });
                //         });
                //     });
                // });
    </script>
</body>

</html>